[dotenv@17.2.2] injecting env (8) from .env -- tip: ⚙️  override existing env vars with { override: true }
[dotenv@17.2.2] injecting env (0) from .env -- tip: ⚙️  specify custom .env file path with { path: '/custom/path/.env' }
Executing (default): SELECT 1+1 AS result
Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'vehicles'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_vehicles_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_vehicles_fuel_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_vehicles_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'vehicles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'bookings'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_bookings_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'bookings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'approvals'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_approvals_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'approvals' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'fuel_logs'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'fuel_logs' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'service_logs'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_service_logs_service_type' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'service_logs' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'audit_logs'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'audit_logs' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database models synchronized.
Server is running on port 5001
Environment: development
API Documentation available at http://localhost:5001/api/health
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:03:43:43 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:03:43:43 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
::1 - - [04/Sep/2025:03:43:43 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
::1 - - [04/Sep/2025:03:43:43 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" WHERE "Vehicle"."status" = 'available' ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:03:43:56 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:03:43:56 +0000] "GET /api/vehicles?status=available HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" WHERE "Vehicle"."status" = 'available' ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:03:43:56 +0000] "GET /api/vehicles?status=available HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:03:43:56 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
::1 - - [04/Sep/2025:03:43:58 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
::1 - - [04/Sep/2025:03:43:58 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" WHERE "Vehicle"."status" = 'available' ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:03:43:59 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:03:43:59 +0000] "GET /api/vehicles?status=available HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" WHERE "Vehicle"."status" = 'available' ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:03:43:59 +0000] "GET /api/vehicles?status=available HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:03:43:59 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
::1 - - [04/Sep/2025:03:44:05 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
::1 - - [04/Sep/2025:03:44:05 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" WHERE "Vehicle"."status" = 'available' ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:03:45:34 +0000] "GET /api/vehicles?status=available HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:03:45:34 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" WHERE "Vehicle"."status" = 'available' ORDER BY "Vehicle"."plate_number" ASC;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
::1 - - [04/Sep/2025:03:45:34 +0000] "GET /api/vehicles?status=available HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:03:45:34 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
::1 - - [04/Sep/2025:03:45:36 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
::1 - - [04/Sep/2025:03:45:36 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:45:38 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:03:45:38 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:45:38 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:03:45:38 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:03:45:38 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 03:45:38.671 +00:00' AND "bookings"."start_date" <= '2025-09-04 03:45:38.671 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:03:45:38 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:03:45:38 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 03:45:38.695 +00:00' AND "bookings"."start_date" <= '2025-09-04 03:45:38.695 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
::1 - - [04/Sep/2025:03:45:38 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 03:45:40.724 +00:00' AND "bookings"."start_date" <= '2025-09-04 03:45:40.724 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:03:45:40 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."department" AS "user.department" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" ORDER BY "Booking"."created_at" ASC;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:03:45:40 +0000] "GET /api/reports/vehicle-bookings?period=monthly&startDate=&endDate= HTTP/1.1" 200 692 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 03:45:40.743 +00:00' AND "bookings"."start_date" <= '2025-09-04 03:45:40.743 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:03:45:40 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."department" AS "user.department" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" ORDER BY "Booking"."created_at" ASC;
::1 - - [04/Sep/2025:03:45:40 +0000] "GET /api/reports/vehicle-bookings?period=monthly&startDate=&endDate= HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:45:42 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:45:42 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '98';
::1 - - [04/Sep/2025:03:45:45 +0000] "GET /api/bookings/98 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '98';
::1 - - [04/Sep/2025:03:45:45 +0000] "GET /api/bookings/98 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:45:48 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:45:48 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
::1 - - [04/Sep/2025:03:45:49 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
::1 - - [04/Sep/2025:03:45:49 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:49:00 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:49:00 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '98';
::1 - - [04/Sep/2025:03:49:03 +0000] "GET /api/bookings/98 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '98';
::1 - - [04/Sep/2025:03:49:03 +0000] "GET /api/bookings/98 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:49:05 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:49:05 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '100';
::1 - - [04/Sep/2025:03:49:06 +0000] "GET /api/bookings/100 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '100';
::1 - - [04/Sep/2025:03:49:06 +0000] "GET /api/bookings/100 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:49:08 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:49:08 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '99';
::1 - - [04/Sep/2025:03:49:43 +0000] "GET /api/bookings/99 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '99';
::1 - - [04/Sep/2025:03:49:43 +0000] "GET /api/bookings/99 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:49:44 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:49:44 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '101';
::1 - - [04/Sep/2025:03:49:45 +0000] "GET /api/bookings/101 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '101';
::1 - - [04/Sep/2025:03:49:45 +0000] "GET /api/bookings/101 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:49:48 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:49:48 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '98';
::1 - - [04/Sep/2025:03:49:49 +0000] "GET /api/bookings/98 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '98';
::1 - - [04/Sep/2025:03:49:49 +0000] "GET /api/bookings/98 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:49:54 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:49:54 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 10) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:51:10 +0000] "GET /api/bookings?page=2&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:51:13 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:51:18 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:03:51:18 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:51:18 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:03:51:18 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:03:51:18 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:03:51:18 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 03:51:18.540 +00:00' AND "bookings"."start_date" <= '2025-09-04 03:51:18.540 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
::1 - - [04/Sep/2025:03:51:18 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 03:51:18.545 +00:00' AND "bookings"."start_date" <= '2025-09-04 03:51:18.545 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
::1 - - [04/Sep/2025:03:51:18 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:03:56:49 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:03:56:49 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:56:49 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:56:49 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:56:49 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:56:49 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:03:56:49 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:03:56:49 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 03:56:49.870 +00:00' AND "bookings"."start_date" <= '2025-09-04 03:56:49.870 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
::1 - - [04/Sep/2025:03:56:49 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 03:56:49.876 +00:00' AND "bookings"."start_date" <= '2025-09-04 03:56:49.876 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
::1 - - [04/Sep/2025:03:56:49 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:03:57:38 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:03:57:38 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:57:38 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:57:38 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:03:57:38 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:03:57:38 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:03:57:38 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 03:57:38.373 +00:00' AND "bookings"."start_date" <= '2025-09-04 03:57:38.373 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:03:57:38 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:03:57:38 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 03:57:38.378 +00:00' AND "bookings"."start_date" <= '2025-09-04 03:57:38.378 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
::1 - - [04/Sep/2025:03:57:38 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:57:40 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:57:40 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '98';
::1 - - [04/Sep/2025:03:57:43 +0000] "GET /api/bookings/98 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '98';
::1 - - [04/Sep/2025:03:57:43 +0000] "GET /api/bookings/98 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:57:45 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:57:45 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '102';
::1 - - [04/Sep/2025:03:57:46 +0000] "GET /api/bookings/102 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '102';
::1 - - [04/Sep/2025:03:57:46 +0000] "GET /api/bookings/102 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:57:47 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:57:47 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '102';
::1 - - [04/Sep/2025:03:57:51 +0000] "GET /api/bookings/102 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '102';
::1 - - [04/Sep/2025:03:57:51 +0000] "GET /api/bookings/102 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:57:53 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:03:57:53 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:03:57:53 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:03:57:53 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:03:57:53 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 03:57:53.554 +00:00' AND "bookings"."start_date" <= '2025-09-04 03:57:53.554 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
::1 - - [04/Sep/2025:03:57:53 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:03:57:53 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 03:57:53.559 +00:00' AND "bookings"."start_date" <= '2025-09-04 03:57:53.559 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
::1 - - [04/Sep/2025:03:57:53 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:04:01:56 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:04:01:56 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:01:56 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:01:56 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:04:01:56 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:04:01:56 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:04:01:56 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:04:01:56 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 04:01:56.144 +00:00' AND "bookings"."start_date" <= '2025-09-04 04:01:56.144 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
::1 - - [04/Sep/2025:04:01:56 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 04:01:56.152 +00:00' AND "bookings"."start_date" <= '2025-09-04 04:01:56.152 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
::1 - - [04/Sep/2025:04:01:56 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
::1 - - [04/Sep/2025:04:02:09 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '103';
::1 - - [04/Sep/2025:04:02:09 +0000] "GET /api/bookings/103 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:02:12 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:02:12 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:02:17 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:02:17 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:04:02:17 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:04:02:17 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:04:02:17 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:04:02:17 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 04:02:17.647 +00:00' AND "bookings"."start_date" <= '2025-09-04 04:02:17.647 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
::1 - - [04/Sep/2025:04:02:17 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 04:02:17.652 +00:00' AND "bookings"."start_date" <= '2025-09-04 04:02:17.652 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
::1 - - [04/Sep/2025:04:02:17 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:02:21 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:02:21 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '98';
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" WHERE "Vehicle"."status" = 'available' ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:04:02:24 +0000] "GET /api/bookings/98 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:04:02:24 +0000] "GET /api/vehicles?status=available HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '98';
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" WHERE "Vehicle"."status" = 'available' ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:04:02:24 +0000] "GET /api/vehicles?status=available HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:04:02:24 +0000] "GET /api/bookings/98 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:02:25 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:02:25 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "user_id", "vehicle_id", "driver_id", "start_date", "end_date", "start_mileage", "end_mileage", "status", "department", "notes", "rejection_reason", "created_at", "updated_at" FROM "bookings" AS "Booking" WHERE "Booking"."id" = '98';
Executing (default): UPDATE "bookings" SET "status"=$1,"rejection_reason"=$2,"updated_at"=$3 WHERE "id" = $4
Executing (default): INSERT INTO "audit_logs" ("id","user_id","action","entity_type","entity_id","old_values","new_values","description","created_at") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING "id","user_id","action","entity_type","entity_id","old_values","new_values","ip_address","user_agent","description","created_at";
Executing (default): INSERT INTO "audit_logs" ("id","user_id","action","entity_type","entity_id","old_values","new_values","ip_address","user_agent","description","created_at") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id","user_id","action","entity_type","entity_id","old_values","new_values","ip_address","user_agent","description","created_at";
Executing (default): INSERT INTO "audit_logs" ("id","user_id","action","entity_type","entity_id","old_values","new_values","ip_address","user_agent","description","created_at") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id","user_id","action","entity_type","entity_id","old_values","new_values","ip_address","user_agent","description","created_at";
::1 - - [04/Sep/2025:04:02:32 +0000] "PATCH /api/bookings/98/cancel HTTP/1.1" 200 434 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:02:33 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 200 12599 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '98';
::1 - - [04/Sep/2025:04:02:40 +0000] "GET /api/bookings/98 HTTP/1.1" 200 1741 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '98';
::1 - - [04/Sep/2025:04:02:40 +0000] "GET /api/bookings/98 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '98';
::1 - - [04/Sep/2025:04:04:28 +0000] "GET /api/bookings/98 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '98';
::1 - - [04/Sep/2025:04:04:28 +0000] "GET /api/bookings/98 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:05:03 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:05:03 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "user_id", "vehicle_id", "driver_id", "start_date", "end_date", "start_mileage", "end_mileage", "status", "department", "notes", "rejection_reason", "created_at", "updated_at" FROM "bookings" AS "Booking" WHERE "Booking"."id" = '97';
Executing (default): UPDATE "bookings" SET "status"=$1,"rejection_reason"=$2,"updated_at"=$3 WHERE "id" = $4
Executing (default): INSERT INTO "audit_logs" ("id","user_id","action","entity_type","entity_id","old_values","new_values","description","created_at") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING "id","user_id","action","entity_type","entity_id","old_values","new_values","ip_address","user_agent","description","created_at";
Executing (default): INSERT INTO "audit_logs" ("id","user_id","action","entity_type","entity_id","old_values","new_values","ip_address","user_agent","description","created_at") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id","user_id","action","entity_type","entity_id","old_values","new_values","ip_address","user_agent","description","created_at";
Executing (default): INSERT INTO "audit_logs" ("id","user_id","action","entity_type","entity_id","old_values","new_values","ip_address","user_agent","description","created_at") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id","user_id","action","entity_type","entity_id","old_values","new_values","ip_address","user_agent","description","created_at";
::1 - - [04/Sep/2025:04:05:06 +0000] "PATCH /api/bookings/97/cancel HTTP/1.1" 200 427 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:05:06 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 200 12616 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '97';
::1 - - [04/Sep/2025:04:05:08 +0000] "GET /api/bookings/97 HTTP/1.1" 200 1734 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '97';
::1 - - [04/Sep/2025:04:05:08 +0000] "GET /api/bookings/97 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:05:14 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:05:14 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '96';
::1 - - [04/Sep/2025:04:05:16 +0000] "GET /api/bookings/96 HTTP/1.1" 200 1730 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '96';
::1 - - [04/Sep/2025:04:05:16 +0000] "GET /api/bookings/96 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "user_id", "vehicle_id", "driver_id", "start_date", "end_date", "start_mileage", "end_mileage", "status", "department", "notes", "rejection_reason", "created_at", "updated_at" FROM "bookings" AS "Booking" WHERE "Booking"."id" = '96';
Executing (default): UPDATE "bookings" SET "status"=$1,"rejection_reason"=$2,"updated_at"=$3 WHERE "id" = $4
Executing (default): INSERT INTO "audit_logs" ("id","user_id","action","entity_type","entity_id","old_values","new_values","description","created_at") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING "id","user_id","action","entity_type","entity_id","old_values","new_values","ip_address","user_agent","description","created_at";
Executing (default): INSERT INTO "audit_logs" ("id","user_id","action","entity_type","entity_id","old_values","new_values","ip_address","user_agent","description","created_at") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id","user_id","action","entity_type","entity_id","old_values","new_values","ip_address","user_agent","description","created_at";
Executing (default): INSERT INTO "audit_logs" ("id","user_id","action","entity_type","entity_id","old_values","new_values","ip_address","user_agent","description","created_at") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id","user_id","action","entity_type","entity_id","old_values","new_values","ip_address","user_agent","description","created_at";
::1 - - [04/Sep/2025:04:05:22 +0000] "PATCH /api/bookings/96/cancel HTTP/1.1" 200 424 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '96';
::1 - - [04/Sep/2025:04:05:22 +0000] "GET /api/bookings/96 HTTP/1.1" 200 1731 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:04:05:28 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:04:05:28 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '96';
::1 - - [04/Sep/2025:04:05:28 +0000] "GET /api/bookings/96 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '96';
::1 - - [04/Sep/2025:04:05:28 +0000] "GET /api/bookings/96 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
