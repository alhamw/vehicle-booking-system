[dotenv@17.2.2] injecting env (8) from .env -- tip: ⚙️  enable debug logging with { debug: true }
[dotenv@17.2.2] injecting env (0) from .env -- tip: ⚙️  suppress all logs with { quiet: true }
Executing (default): SELECT 1+1 AS result
Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'vehicles'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_vehicles_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_vehicles_fuel_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_vehicles_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'vehicles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'bookings'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_bookings_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'bookings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'approvals'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_approvals_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'approvals' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'fuel_logs'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'fuel_logs' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'service_logs'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_service_logs_service_type' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'service_logs' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'audit_logs'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'audit_logs' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database models synchronized.
Server is running on port 5001
Environment: development
API Documentation available at http://localhost:5001/api/health
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:04:26:50 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:04:26:50 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:26:50 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:26:50 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 10) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:26:58 +0000] "GET /api/bookings?page=2&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 10) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:26:58 +0000] "GET /api/bookings?page=2&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '85';
::1 - - [04/Sep/2025:04:27:00 +0000] "GET /api/bookings/85 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '85';
::1 - - [04/Sep/2025:04:27:00 +0000] "GET /api/bookings/85 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 10) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:27:02 +0000] "GET /api/bookings?page=2&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 10) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:27:02 +0000] "GET /api/bookings?page=2&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 20) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:27:03 +0000] "GET /api/bookings?page=3&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 20) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:27:03 +0000] "GET /api/bookings?page=3&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '75';
::1 - - [04/Sep/2025:04:27:06 +0000] "GET /api/bookings/75 HTTP/1.1" 200 1710 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '75';
::1 - - [04/Sep/2025:04:27:06 +0000] "GET /api/bookings/75 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 20) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:27:07 +0000] "GET /api/bookings?page=3&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 20) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:27:07 +0000] "GET /api/bookings?page=3&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 30) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:27:18 +0000] "GET /api/bookings?page=4&limit=10 HTTP/1.1" 200 13043 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 30) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:27:18 +0000] "GET /api/bookings?page=4&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 40) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:27:19 +0000] "GET /api/bookings?page=5&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 40) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:27:19 +0000] "GET /api/bookings?page=5&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 50) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:27:20 +0000] "GET /api/bookings?page=6&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 50) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:04:27:20 +0000] "GET /api/bookings?page=6&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '47';
::1 - - [04/Sep/2025:04:27:28 +0000] "GET /api/bookings/47 HTTP/1.1" 200 1708 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at", "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."year" AS "vehicle.year", "vehicle"."capacity" AS "vehicle.capacity", "vehicle"."fuel_type" AS "vehicle.fuel_type", "vehicle"."status" AS "vehicle.status", "vehicle"."last_service_date" AS "vehicle.last_service_date", "vehicle"."next_service_date" AS "vehicle.next_service_date", "vehicle"."mileage" AS "vehicle.mileage", "vehicle"."location" AS "vehicle.location", "vehicle"."created_at" AS "vehicle.created_at", "vehicle"."updated_at" AS "vehicle.updated_at", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."license_expiry" AS "driver.license_expiry", "driver"."phone" AS "driver.phone", "driver"."email" AS "driver.email", "driver"."status" AS "driver.status", "driver"."experience_years" AS "driver.experience_years", "driver"."vehicle_types" AS "driver.vehicle_types", "driver"."created_at" AS "driver.created_at", "driver"."updated_at" AS "driver.updated_at", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" WHERE "Booking"."id" = '47';
::1 - - [04/Sep/2025:04:27:28 +0000] "GET /api/bookings/47 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
