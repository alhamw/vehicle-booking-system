[dotenv@17.2.2] injecting env (8) from .env -- tip: 📡 auto-backup env with Radar: https://dotenvx.com/radar
[dotenv@17.2.2] injecting env (0) from .env -- tip: ⚙️  load multiple .env files with { path: ['.env.local', '.env'] }
Executing (default): SELECT 1+1 AS result
Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'vehicles'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_vehicles_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_vehicles_fuel_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_vehicles_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'vehicles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'drivers'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_drivers_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'drivers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'bookings'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_bookings_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'bookings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'approvals'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_approvals_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'approvals' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'fuel_logs'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'fuel_logs' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'service_logs'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_service_logs_service_type' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'service_logs' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'audit_logs'
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'audit_logs' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database models synchronized.
Server is running on port 5001
Environment: development
API Documentation available at http://localhost:5001/api/health
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 1;
::1 - - [03/Sep/2025:17:02:39 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 1;
::1 - - [03/Sep/2025:17:02:39 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 1;
Executing (default): SELECT count("Approval"."id") AS "count" FROM "approvals" AS "Approval" LEFT OUTER JOIN "users" AS "approver" ON "Approval"."approver_id" = "approver"."id" LEFT OUTER JOIN "bookings" AS "booking" ON "Approval"."booking_id" = "booking"."id" LEFT OUTER JOIN "users" AS "booking->user" ON "booking"."user_id" = "booking->user"."id" LEFT OUTER JOIN "vehicles" AS "booking->vehicle" ON "booking"."vehicle_id" = "booking->vehicle"."id";
Executing (default): SELECT "Approval"."id", "Approval"."booking_id", "Approval"."approver_id", "Approval"."level", "Approval"."status", "Approval"."comments", "Approval"."approved_at", "Approval"."created_at", "Approval"."updated_at", "approver"."id" AS "approver.id", "approver"."name" AS "approver.name", "approver"."email" AS "approver.email", "booking"."id" AS "booking.id", "booking"."user_id" AS "booking.user_id", "booking"."vehicle_id" AS "booking.vehicle_id", "booking"."driver_id" AS "booking.driver_id", "booking"."start_date" AS "booking.start_date", "booking"."end_date" AS "booking.end_date", "booking"."start_mileage" AS "booking.start_mileage", "booking"."end_mileage" AS "booking.end_mileage", "booking"."status" AS "booking.status", "booking"."department" AS "booking.department", "booking"."notes" AS "booking.notes", "booking"."rejection_reason" AS "booking.rejection_reason", "booking"."created_at" AS "booking.created_at", "booking"."updated_at" AS "booking.updated_at", "booking->user"."id" AS "booking.user.id", "booking->user"."name" AS "booking.user.name", "booking->user"."email" AS "booking.user.email", "booking->user"."department" AS "booking.user.department", "booking->vehicle"."id" AS "booking.vehicle.id", "booking->vehicle"."plate_number" AS "booking.vehicle.plate_number", "booking->vehicle"."type" AS "booking.vehicle.type", "booking->vehicle"."make" AS "booking.vehicle.make", "booking->vehicle"."model" AS "booking.vehicle.model" FROM "approvals" AS "Approval" LEFT OUTER JOIN "users" AS "approver" ON "Approval"."approver_id" = "approver"."id" LEFT OUTER JOIN "bookings" AS "booking" ON "Approval"."booking_id" = "booking"."id" LEFT OUTER JOIN "users" AS "booking->user" ON "booking"."user_id" = "booking->user"."id" LEFT OUTER JOIN "vehicles" AS "booking->vehicle" ON "booking"."vehicle_id" = "booking->vehicle"."id" ORDER BY "Approval"."created_at" DESC LIMIT 10 OFFSET 0;
::1 - - [03/Sep/2025:17:02:39 +0000] "GET /api/approvals?page=1&limit=10&show_all=true HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 1;
Executing (default): SELECT count("Approval"."id") AS "count" FROM "approvals" AS "Approval" LEFT OUTER JOIN "users" AS "approver" ON "Approval"."approver_id" = "approver"."id" LEFT OUTER JOIN "bookings" AS "booking" ON "Approval"."booking_id" = "booking"."id" LEFT OUTER JOIN "users" AS "booking->user" ON "booking"."user_id" = "booking->user"."id" LEFT OUTER JOIN "vehicles" AS "booking->vehicle" ON "booking"."vehicle_id" = "booking->vehicle"."id";
Executing (default): SELECT "Approval"."id", "Approval"."booking_id", "Approval"."approver_id", "Approval"."level", "Approval"."status", "Approval"."comments", "Approval"."approved_at", "Approval"."created_at", "Approval"."updated_at", "approver"."id" AS "approver.id", "approver"."name" AS "approver.name", "approver"."email" AS "approver.email", "booking"."id" AS "booking.id", "booking"."user_id" AS "booking.user_id", "booking"."vehicle_id" AS "booking.vehicle_id", "booking"."driver_id" AS "booking.driver_id", "booking"."start_date" AS "booking.start_date", "booking"."end_date" AS "booking.end_date", "booking"."start_mileage" AS "booking.start_mileage", "booking"."end_mileage" AS "booking.end_mileage", "booking"."status" AS "booking.status", "booking"."department" AS "booking.department", "booking"."notes" AS "booking.notes", "booking"."rejection_reason" AS "booking.rejection_reason", "booking"."created_at" AS "booking.created_at", "booking"."updated_at" AS "booking.updated_at", "booking->user"."id" AS "booking.user.id", "booking->user"."name" AS "booking.user.name", "booking->user"."email" AS "booking.user.email", "booking->user"."department" AS "booking.user.department", "booking->vehicle"."id" AS "booking.vehicle.id", "booking->vehicle"."plate_number" AS "booking.vehicle.plate_number", "booking->vehicle"."type" AS "booking.vehicle.type", "booking->vehicle"."make" AS "booking.vehicle.make", "booking->vehicle"."model" AS "booking.vehicle.model" FROM "approvals" AS "Approval" LEFT OUTER JOIN "users" AS "approver" ON "Approval"."approver_id" = "approver"."id" LEFT OUTER JOIN "bookings" AS "booking" ON "Approval"."booking_id" = "booking"."id" LEFT OUTER JOIN "users" AS "booking->user" ON "booking"."user_id" = "booking->user"."id" LEFT OUTER JOIN "vehicles" AS "booking->vehicle" ON "booking"."vehicle_id" = "booking->vehicle"."id" ORDER BY "Approval"."created_at" DESC LIMIT 10 OFFSET 0;
::1 - - [03/Sep/2025:17:02:39 +0000] "GET /api/approvals?page=1&limit=10&show_all=true HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 1;
::1 - - [03/Sep/2025:17:02:48 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 1;
::1 - - [03/Sep/2025:17:02:48 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 1;
Executing (default): SELECT count("Approval"."id") AS "count" FROM "approvals" AS "Approval" LEFT OUTER JOIN "users" AS "approver" ON "Approval"."approver_id" = "approver"."id" LEFT OUTER JOIN "bookings" AS "booking" ON "Approval"."booking_id" = "booking"."id" LEFT OUTER JOIN "users" AS "booking->user" ON "booking"."user_id" = "booking->user"."id" LEFT OUTER JOIN "vehicles" AS "booking->vehicle" ON "booking"."vehicle_id" = "booking->vehicle"."id";
Executing (default): SELECT "Approval"."id", "Approval"."booking_id", "Approval"."approver_id", "Approval"."level", "Approval"."status", "Approval"."comments", "Approval"."approved_at", "Approval"."created_at", "Approval"."updated_at", "approver"."id" AS "approver.id", "approver"."name" AS "approver.name", "approver"."email" AS "approver.email", "booking"."id" AS "booking.id", "booking"."user_id" AS "booking.user_id", "booking"."vehicle_id" AS "booking.vehicle_id", "booking"."driver_id" AS "booking.driver_id", "booking"."start_date" AS "booking.start_date", "booking"."end_date" AS "booking.end_date", "booking"."start_mileage" AS "booking.start_mileage", "booking"."end_mileage" AS "booking.end_mileage", "booking"."status" AS "booking.status", "booking"."department" AS "booking.department", "booking"."notes" AS "booking.notes", "booking"."rejection_reason" AS "booking.rejection_reason", "booking"."created_at" AS "booking.created_at", "booking"."updated_at" AS "booking.updated_at", "booking->user"."id" AS "booking.user.id", "booking->user"."name" AS "booking.user.name", "booking->user"."email" AS "booking.user.email", "booking->user"."department" AS "booking.user.department", "booking->vehicle"."id" AS "booking.vehicle.id", "booking->vehicle"."plate_number" AS "booking.vehicle.plate_number", "booking->vehicle"."type" AS "booking.vehicle.type", "booking->vehicle"."make" AS "booking.vehicle.make", "booking->vehicle"."model" AS "booking.vehicle.model" FROM "approvals" AS "Approval" LEFT OUTER JOIN "users" AS "approver" ON "Approval"."approver_id" = "approver"."id" LEFT OUTER JOIN "bookings" AS "booking" ON "Approval"."booking_id" = "booking"."id" LEFT OUTER JOIN "users" AS "booking->user" ON "booking"."user_id" = "booking->user"."id" LEFT OUTER JOIN "vehicles" AS "booking->vehicle" ON "booking"."vehicle_id" = "booking->vehicle"."id" ORDER BY "Approval"."created_at" DESC LIMIT 10 OFFSET 0;
::1 - - [03/Sep/2025:17:02:48 +0000] "GET /api/approvals?page=1&limit=10&show_all=true HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 1;
Executing (default): SELECT count("Approval"."id") AS "count" FROM "approvals" AS "Approval" LEFT OUTER JOIN "users" AS "approver" ON "Approval"."approver_id" = "approver"."id" LEFT OUTER JOIN "bookings" AS "booking" ON "Approval"."booking_id" = "booking"."id" LEFT OUTER JOIN "users" AS "booking->user" ON "booking"."user_id" = "booking->user"."id" LEFT OUTER JOIN "vehicles" AS "booking->vehicle" ON "booking"."vehicle_id" = "booking->vehicle"."id";
Executing (default): SELECT "Approval"."id", "Approval"."booking_id", "Approval"."approver_id", "Approval"."level", "Approval"."status", "Approval"."comments", "Approval"."approved_at", "Approval"."created_at", "Approval"."updated_at", "approver"."id" AS "approver.id", "approver"."name" AS "approver.name", "approver"."email" AS "approver.email", "booking"."id" AS "booking.id", "booking"."user_id" AS "booking.user_id", "booking"."vehicle_id" AS "booking.vehicle_id", "booking"."driver_id" AS "booking.driver_id", "booking"."start_date" AS "booking.start_date", "booking"."end_date" AS "booking.end_date", "booking"."start_mileage" AS "booking.start_mileage", "booking"."end_mileage" AS "booking.end_mileage", "booking"."status" AS "booking.status", "booking"."department" AS "booking.department", "booking"."notes" AS "booking.notes", "booking"."rejection_reason" AS "booking.rejection_reason", "booking"."created_at" AS "booking.created_at", "booking"."updated_at" AS "booking.updated_at", "booking->user"."id" AS "booking.user.id", "booking->user"."name" AS "booking.user.name", "booking->user"."email" AS "booking.user.email", "booking->user"."department" AS "booking.user.department", "booking->vehicle"."id" AS "booking.vehicle.id", "booking->vehicle"."plate_number" AS "booking.vehicle.plate_number", "booking->vehicle"."type" AS "booking.vehicle.type", "booking->vehicle"."make" AS "booking.vehicle.make", "booking->vehicle"."model" AS "booking.vehicle.model" FROM "approvals" AS "Approval" LEFT OUTER JOIN "users" AS "approver" ON "Approval"."approver_id" = "approver"."id" LEFT OUTER JOIN "bookings" AS "booking" ON "Approval"."booking_id" = "booking"."id" LEFT OUTER JOIN "users" AS "booking->user" ON "booking"."user_id" = "booking->user"."id" LEFT OUTER JOIN "vehicles" AS "booking->vehicle" ON "booking"."vehicle_id" = "booking->vehicle"."id" ORDER BY "Approval"."created_at" DESC LIMIT 10 OFFSET 0;
::1 - - [03/Sep/2025:17:02:48 +0000] "GET /api/approvals?page=1&limit=10&show_all=true HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 1;
Executing (default): SELECT count("Approval"."id") AS "count" FROM "approvals" AS "Approval" LEFT OUTER JOIN "users" AS "approver" ON "Approval"."approver_id" = "approver"."id" LEFT OUTER JOIN "bookings" AS "booking" ON "Approval"."booking_id" = "booking"."id" LEFT OUTER JOIN "users" AS "booking->user" ON "booking"."user_id" = "booking->user"."id" LEFT OUTER JOIN "vehicles" AS "booking->vehicle" ON "booking"."vehicle_id" = "booking->vehicle"."id";
Executing (default): SELECT "Approval"."id", "Approval"."booking_id", "Approval"."approver_id", "Approval"."level", "Approval"."status", "Approval"."comments", "Approval"."approved_at", "Approval"."created_at", "Approval"."updated_at", "approver"."id" AS "approver.id", "approver"."name" AS "approver.name", "approver"."email" AS "approver.email", "booking"."id" AS "booking.id", "booking"."user_id" AS "booking.user_id", "booking"."vehicle_id" AS "booking.vehicle_id", "booking"."driver_id" AS "booking.driver_id", "booking"."start_date" AS "booking.start_date", "booking"."end_date" AS "booking.end_date", "booking"."start_mileage" AS "booking.start_mileage", "booking"."end_mileage" AS "booking.end_mileage", "booking"."status" AS "booking.status", "booking"."department" AS "booking.department", "booking"."notes" AS "booking.notes", "booking"."rejection_reason" AS "booking.rejection_reason", "booking"."created_at" AS "booking.created_at", "booking"."updated_at" AS "booking.updated_at", "booking->user"."id" AS "booking.user.id", "booking->user"."name" AS "booking.user.name", "booking->user"."email" AS "booking.user.email", "booking->user"."department" AS "booking.user.department", "booking->vehicle"."id" AS "booking.vehicle.id", "booking->vehicle"."plate_number" AS "booking.vehicle.plate_number", "booking->vehicle"."type" AS "booking.vehicle.type", "booking->vehicle"."make" AS "booking.vehicle.make", "booking->vehicle"."model" AS "booking.vehicle.model" FROM "approvals" AS "Approval" LEFT OUTER JOIN "users" AS "approver" ON "Approval"."approver_id" = "approver"."id" LEFT OUTER JOIN "bookings" AS "booking" ON "Approval"."booking_id" = "booking"."id" LEFT OUTER JOIN "users" AS "booking->user" ON "booking"."user_id" = "booking->user"."id" LEFT OUTER JOIN "vehicles" AS "booking->vehicle" ON "booking"."vehicle_id" = "booking->vehicle"."id" ORDER BY "Approval"."created_at" DESC LIMIT 25 OFFSET 0;
::1 - - [03/Sep/2025:17:02:51 +0000] "GET /api/approvals?page=1&limit=25&show_all=true HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "password", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."email" = 'admin_b@miningcompany.com';
Executing (default): INSERT INTO "audit_logs" ("id","user_id","action","entity_type","entity_id","old_values","new_values","description","created_at") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING "id","user_id","action","entity_type","entity_id","old_values","new_values","ip_address","user_agent","description","created_at";
::1 - - [04/Sep/2025:02:49:42 +0000] "POST /api/auth/login HTTP/1.1" 200 286 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:02:49:42 +0000] "GET /api/auth/verify-token HTTP/1.1" 200 116 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:49:42 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 200 6437 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:02:49:42 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:49:42 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 200 89901 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:02:49:42 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:02:49:42 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:02:49:42 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 02:49:42.359 +00:00' AND "bookings"."start_date" <= '2025-09-04 02:49:42.359 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
::1 - - [04/Sep/2025:02:49:42 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 200 1998 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 02:49:42.379 +00:00' AND "bookings"."start_date" <= '2025-09-04 02:49:42.379 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
::1 - - [04/Sep/2025:02:49:42 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:49:59 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 200 12582 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:50:00 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 10) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:50:07 +0000] "GET /api/bookings?page=2&limit=10 HTTP/1.1" 200 12358 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 20) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:50:08 +0000] "GET /api/bookings?page=3&limit=10 HTTP/1.1" 200 13093 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 40) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:50:10 +0000] "GET /api/bookings?page=5&limit=10 HTTP/1.1" 200 13357 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 50) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:50:12 +0000] "GET /api/bookings?page=6&limit=10 HTTP/1.1" 200 13042 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 60) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:50:12 +0000] "GET /api/bookings?page=7&limit=10 HTTP/1.1" 200 12857 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 70) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:50:13 +0000] "GET /api/bookings?page=8&limit=10 HTTP/1.1" 200 73 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:50:18 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 5 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:50:18 +0000] "GET /api/bookings?limit=5&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:50:18 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 1000 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:02:50:18 +0000] "GET /api/bookings?limit=1000&page=1 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
::1 - - [04/Sep/2025:02:50:18 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "id", "plate_number", "type", "make", "model", "year", "capacity", "fuel_type", "status", "last_service_date", "next_service_date", "mileage", "location", "created_at", "updated_at" FROM "vehicles" AS "Vehicle" ORDER BY "Vehicle"."plate_number" ASC;
::1 - - [04/Sep/2025:02:50:18 +0000] "GET /api/vehicles HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 02:50:18.978 +00:00' AND "bookings"."start_date" <= '2025-09-04 02:50:18.978 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
::1 - - [04/Sep/2025:02:50:18 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT "Vehicle"."id", "Vehicle"."plate_number", "Vehicle"."make", "Vehicle"."model", "Vehicle"."type", "Vehicle"."status", "bookings"."id" AS "bookings.id", "bookings"."start_date" AS "bookings.start_date", "bookings"."end_date" AS "bookings.end_date", "bookings"."status" AS "bookings.status" FROM "vehicles" AS "Vehicle" LEFT OUTER JOIN "bookings" AS "bookings" ON "Vehicle"."id" = "bookings"."vehicle_id" AND ("bookings"."start_date" >= '2025-08-05 02:50:18.991 +00:00' AND "bookings"."start_date" <= '2025-09-04 02:50:18.991 +00:00') AND "bookings"."status" IN ('approved', 'in_progress', 'completed');
::1 - - [04/Sep/2025:02:50:18 +0000] "GET /api/dashboard/vehicle-utilization?period=30 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:50:31 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:50:31 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:02:52:41 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
::1 - - [04/Sep/2025:02:52:41 +0000] "GET /api/auth/verify-token HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:52:41 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
Executing (default): SELECT "id", "name", "email", "role", "department", "status", "created_at", "updated_at" FROM "users" AS "User" WHERE "User"."id" = 2;
Executing (default): SELECT count("Booking"."id") AS "count" FROM "bookings" AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id";
Executing (default): SELECT "Booking".*, "vehicle"."id" AS "vehicle.id", "vehicle"."plate_number" AS "vehicle.plate_number", "vehicle"."type" AS "vehicle.type", "vehicle"."make" AS "vehicle.make", "vehicle"."model" AS "vehicle.model", "vehicle"."status" AS "vehicle.status", "driver"."id" AS "driver.id", "driver"."name" AS "driver.name", "driver"."license_number" AS "driver.license_number", "driver"."status" AS "driver.status", "user"."id" AS "user.id", "user"."name" AS "user.name", "user"."email" AS "user.email", "user"."department" AS "user.department", "approvals"."id" AS "approvals.id", "approvals"."booking_id" AS "approvals.booking_id", "approvals"."approver_id" AS "approvals.approver_id", "approvals"."level" AS "approvals.level", "approvals"."status" AS "approvals.status", "approvals"."comments" AS "approvals.comments", "approvals"."approved_at" AS "approvals.approved_at", "approvals"."created_at" AS "approvals.created_at", "approvals"."updated_at" AS "approvals.updated_at", "approvals->approver"."id" AS "approvals.approver.id", "approvals->approver"."name" AS "approvals.approver.name", "approvals->approver"."email" AS "approvals.approver.email" FROM (SELECT "Booking"."id", "Booking"."user_id", "Booking"."vehicle_id", "Booking"."driver_id", "Booking"."start_date", "Booking"."end_date", "Booking"."start_mileage", "Booking"."end_mileage", "Booking"."status", "Booking"."department", "Booking"."notes", "Booking"."rejection_reason", "Booking"."created_at", "Booking"."updated_at" FROM "bookings" AS "Booking" ORDER BY "Booking"."created_at" DESC LIMIT 10 OFFSET 0) AS "Booking" LEFT OUTER JOIN "vehicles" AS "vehicle" ON "Booking"."vehicle_id" = "vehicle"."id" LEFT OUTER JOIN "drivers" AS "driver" ON "Booking"."driver_id" = "driver"."id" LEFT OUTER JOIN "users" AS "user" ON "Booking"."user_id" = "user"."id" LEFT OUTER JOIN "approvals" AS "approvals" ON "Booking"."id" = "approvals"."booking_id" LEFT OUTER JOIN "users" AS "approvals->approver" ON "approvals"."approver_id" = "approvals->approver"."id" ORDER BY "Booking"."created_at" DESC;
::1 - - [04/Sep/2025:02:52:41 +0000] "GET /api/bookings?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
